apiVersion: networking.k8s.io/v1
kind: Ingress
metadata:
  name: api
spec:
  rules:
  - host: api-workspaces.cluster.local # replace this with your current domain
    http:
      paths:
      - path: /healthz
        pathType: Exact
        backend:
          service:
            name: rest-api-server
            port:
              number: 8080
      # - path: /apis/workspaces.io/v1alpha1/workspaces
      #   pathType: Exact
      #   backend:
      #     service:
      #       name: rest-api-server
      #       port:
      #         number: 8080
      # - path: /apis/workspaces.io/v1alpha1/workspaces/namespaces/^(?![0-9]+$)(?!-)[a-zA-Z0-9-]{,63}(?<!-)$/workspaces
      #   pathType: Prefix
      #   backend:
      #     service:
      #       name: rest-api-server
      #       port:
      #         number: 8080

